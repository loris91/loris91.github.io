
<!DOCTYPE html>
<html>
 <head> 
  <title>Prova TV</title> 
  <style>
    body{
      margin: 0;
      overflow: hidden;
    }

    #stats {  /* Align stats top-left */
      position: absolute;
      left: 0px;
      top: 0px;
    }
  </style> 
  </head>
  <body>
  <!-- JavaScript libraries -->
  <script src="assets/libs/three.min.js"></script> 
  <script src="assets/libs/jquery.min.js"></script>
  <script src="assets/libs/Stats.min.js"></script>
  <script src="assets/libs/dat.gui.min.js"></script>
  <script src="assets/libs/TrackballControls.js"></script>
  <script src="assets/libs/PointerLockControls.js"></script>
  <script src="assets/libs/tween.min.js"></script>
  <script src="assets/libs/OBJLoader.js"></script> 
  <script src="assets/libs/MTLLoader.js"></script>
  <script src="assets/libs/OBJMTLLoader.js"></script>

  <!-- My JavaScript -->
  <script src="scripts/Init.js"></script>



  <script>
    $(function() {

      function createMesh (geom,texture) {
      var materialArray = [];
      materialArray.push(new THREE.MeshBasicMaterial({ color: 0x555555  }));
      materialArray.push(new THREE.MeshBasicMaterial({ color: 0x555555  }));
      materialArray.push(new THREE.MeshBasicMaterial({ color: 0x555555  }));
      materialArray.push(new THREE.MeshBasicMaterial({ color: 0x555555   }));
      materialArray.push(new THREE.MeshBasicMaterial({ map: texture }));
      materialArray.push(new THREE.MeshBasicMaterial({ color: 0xeeee33  }));
      var faceMaterial = new THREE.MeshFaceMaterial(materialArray);

      // create a multimaterial
      var mesh = new THREE.Mesh(geom, faceMaterial);

      return mesh;
      }

      video1 = document.createElement('video');
      video1.src = "assets/videos/secrets.mp4";
      video1.load();
      video1.play();

      videoImage = document.createElement('canvas');
      videoImage.width = 220;
      videoImage.height = 160

      videoImageContext = videoImage.getContext('2d');
      videoImageContext.fillStyle = '#000000';
      videoImageContext.fillRect(0,0,videoImage.width,videoImage.height);

      texture1 = new THREE.Texture(videoImage);
      texture1.minFilter = THREE.LinearFilter;
      texture1.magFilter = THREE.LinearFilter;
      texture1.format = THREE.RGBFormat;
      texture1.generateMipmaps = false;


      var cube1;
      cube1 = createMesh(new THREE.BoxGeometry(220, 160, 0.5),texture1);
      scene.add(cube1);










      render();

      function render() {
        stats.update();
        TWEEN.update();

        if (controls.Trackball) {
          trackballControls.update();
        } 

        if ( video1.readyState === video1.HAVE_ENOUGH_DATA ) {
          videoImageContext.drawImage( video1, 0, 0 );
          if ( texture1 ) 
            texture1.needsUpdate = true;
        }

      }
      $('body').append(webGLRenderer.domElement);
    });    
  </script>

  <!-- Appartament components -->
 
 </body>
</html>
